DROP DATABASE IF EXISTS keystone;
DROP DATABASE IF EXISTS glance;
DROP DATABASE IF EXISTS nova;
DROP DATABASE IF EXISTS cinder;
CREATE DATABASE keystone;
CREATE DATABASE glance;
CREATE DATABASE nova;
CREATE DATABASE cinder;
GRANT ALL ON keystone.* TO 'openstack'@'localhost' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON glance.* TO 'openstack'@'localhost' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON nova.* TO 'openstack'@'localhost' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON cinder.* TO 'openstack'@'localhost' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON keystone.* TO 'openstack'@'<%= @controller_admin_address %>' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON glance.* TO 'openstack'@'<%= @controller_admin_address %>' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON nova.* TO 'openstack'@'<%= @controller_admin_address %>' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON cinder.* TO 'openstack'@'<%= @controller_admin_address %>' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON keystone.* TO 'openstack'@'<%= @mysql_access %>' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON glance.* TO 'openstack'@'<%= @mysql_access %>' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON nova.* TO 'openstack'@'<%= @mysql_access %>' IDENTIFIED BY '<%= @mysql_password %>';
GRANT ALL ON cinder.* TO 'openstack'@'<%= @mysql_access %>' IDENTIFIED BY '<%= @mysql_password %>';
